## 一、引论

### 1. 计算机系统组成

- 应用程序
- 操作系统
- 硬件



### 2. 操作系统作用

- 为硬件提供资源管理功能
  - 处理机管理
  - 存储器管理
  - 文件管理
  - 设备管理
- 为应用程序提供接口
  - 用户接口
    - 命令接口：允许用户直接使用
      - 联机命令接口（交互式）：一句一句的输入和执行
      - 脱机命令接口（批处理）：一段一段的输入和执行
    - 程序接口：由一组系统调用组成
  - 图形用户界面

- 对硬件机器实现拓展



### 3. 操作系统特征

- 并发：

  > 并行：一个时刻可以同时运行多个任务
  >
  > 串行：一个时刻只运行一个任务
  >
  > 并发：宏观上并行，微观上串行 
  >
  > 
  >
  > 单核cpu是串行的，多核CPU可以同时运行的进程数和核数相等

- 共享：系统中的资源可以供多个并发执行的进程共同使用

  - 互斥共享：一个时间段，资源只允许一个进程使用
  - 同时共享：一个**时间段**，资源允许多个进程使用（并发/并行都可能发生，如文件传输/听歌和打游戏）

- 虚拟：

  - 空分复用技术
  - 时分复用技术

- 异步：



### 4. 操作系统发展（b

- 主机完全控制输入输出
- 单道批处理系统
- 多道批处理系统
- 分时系统
- 实时系统



### 5. 操作系统运行机制

#### 5.1 指令

指令：操作系统能识别并执行的最基本的命令



分类：

- 特权指令
- 非特权指令



#### 5.2 处理器状态

- 用户态：CPU只能执行非特权指令
- 核心态：执行特权/非特权指令



用程序状态字寄存器的标志位来标识当前处理机的状态

用户态和核心态的切换由且只能由中断完成



#### 5.3 程序分类

- 内核程序：运行在核心态，实现**操作系统内核**功能的程序即为内核程序

  > 操作系统内核：运行在操作系统最底层
  >
  > - 时钟管理
  > - 中断处理
  > - 原语
  > - 对系统资源进行管理的功能
  >   - 进程管理
  >   - 存储器管理
  >   - I/O设备管理等
  >
  >  
  >
  > 操作系统体系结构：
  >
  > - 大内核：四个部分都包括
  >
  > - 微内核：只包括前三个部分
  >
  > 

- 应用程序：运行在用户态



### 6. 中断和异常

中断机制诞生于实现多道程序并发运行

本质：发生中断就意味着操作系统要介入，开展管理工作



#### 6.1 中断过程：
