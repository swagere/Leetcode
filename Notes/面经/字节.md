## 一面 3.28 14:00

#### 算法

岛屿问题：岛屿计数 DFS

#### 八股

1. 常用的map
2. 红黑树
3. 类加载的过程
4. 有哪些类加载器
5. 类加载器的顺序可以改变吗

、

1. session与cookie
2. 列举登录场景对session和cookie的使用
3. http状态码
4. 499状态码
5. 数据库解决sql注入
6. sql语句：查平均分？不用子查询？having？

#### 实习经历

1. 项目介绍
2. 微服务用什么实现的？dubbo吗？
3. 对未来的规划



## 二面 4.6 15:00

#### 算法

1. sql统计排序，同分数同排名
2. 滑动窗口最大时间 

#### 八股

1. 缓存异常：缓存击穿、缓存穿透、缓存雪崩

2. 哈希冲突怎么解决

   开放地址法、再哈希法（多次哈希）、链地址法、建立公共溢出区

3. redis是单线程，怎么保证正常运行的

4. redis平常用的比较多的数据类型，介绍一下string list？

5. 分布式锁怎么实现

6. 说一下你对索引的理解

   索引的目的、索引的数据结构、索引和存储引擎的关系

7. 索引的优化

8. 执行计划主要关注哪些字段

9. 索引失效的情况

10. 看起来索引的规范全都满足，但是还是没有执行索引是什么原因呢

11. 2000万条数据的B+数的高度怎么计算

    非叶子节点 索引个数：16k/(8 + 6) ≈1000个

    叶子节点 数据个数：16k/1k = 16个

    两层：1000 * 16 ≈ 2w条数据

    三层：1000 * 1000 & 16 ≈ 2000w条

#### 项目

1. 你做过的印象最深或者学习最多的一个项目

2. 改造的具体技术方案（争对数据库瓶颈？）

3. 压测的步骤，压测所使用的技术方案

   3000压到30000，每隔五分钟增加3000，观察cpu使用率等情况，寻找性能瓶颈点

4. 压到最高点呢，会保持多久

5. 你在实习中学到了什么，有什么可以分享的

   关于系统性能方面（数据库瓶颈优化方案）

6. 热点数据怎么做缓存

7. redis怎么使用的，你们使用的redis的集群方案是什么

   分布式集群，可以完成并发操作
   
8. redis集群参数

9. qps的值是怎么得出的



## 三面 4.13 15:00

#### 算法

1. 排序算法有哪些思路，时间复杂度和空间复杂度

   快排 堆排序

2. 空间复杂度更低的排序算法

3. leetcode148 链表排序 时间复杂度O(nlogn) 空间复杂度O(1)

   归并排序

#### 八股

1. 访问字节官网有哪些步骤

2. DNS如何把域名解析成ip地址

3. tcp连接

4. 为什么需要第三次握手

5. 为什么http下层使用tcp不使用udp

6. tcp有什么缺点

7. https了解吗

8. 进程和线程的区别

9. 进程之间通信

10. map的数据结构

11. map怎么样才能变成线程安全的形式


#### 项目

1. 详细说说微服务化做的功能

2. 分布式数据一致性怎么解决

3. 签到提现模块是怎么设计的 数据库是怎么设计的

4. 春节红包系统是怎么设计的

5. 奖金池是怎么保证奖金的数量不会超发

   redis实现分布式锁，redis原子操作，数据库乐观锁

6. redis原子操作里存储的数据复杂吗

7. redis数据丢失怎么办

8. 预案演练的方案

   以降级为主，分为外部依赖降级和mq降级

9. 系统对数据一致性的要求高吗

10. 请求重复主要是哪种情况呢

11. 幂等校验怎么在高并发的条件下实现

12. 数据库的集群结构

    主从+分片

13. 分片的依据是什么呢

    用户唯一标识



## 四面 4.22 16:00

#### 算法

1. 不同子序列

   动态规划

2. 优化？

#### 场景题1

1. 设计一个分布式id生成的系统

   mysql主键，输入用户唯一标识做关键字，根据租户，设计唯一标识算法（如hash算法）生成具体的uuid

2. 只能用于单节点吗

   mysql的方式好像只能用于单节点 而且效率不高 也可以用redis的方式

3. redis具体怎么做呢

   设计基本数据结构key value，key为租户+用户唯一性标识，value存储int类型，表示uuid

   当请求到达服务端，服务端携带租户和用户唯一性标识，根据租户+标识读取uuid，再uuid+1的方式生成并存储

4. 这里读取再存储怎么保持原子性呢

   redis事务

   命令

5. 你觉得使用redis还有什么问题吗

6. redis宕机怎么处理

   redis有集群结构，每个集群也是主从结构

7. 主从结构中，主机宕机从机可以完全继承主机的数据吗，存在数据丢失的情况吗
8. 怎么优化呢

#### 场景题2

1. 高并发场景下，服务端需要向客户端发送白名单 具体的存储结构和数据流设计？